{"uid":"3bfbf3329a5eee05","name":"Test GET /api/v1/employees endpoint","fullName":"tests.api.test_get_employees.TestGetAPI#test_get_employees","historyId":"06265c2bf1f57dce2a4c398ecaa20413","time":{"start":1764879371236,"stop":1764879371551,"duration":315},"description":"This test verifies that the API returns a list of all employees successfully.","descriptionHtml":"<p>This test verifies that the API returns a list of all employees successfully.</p>\n","status":"broken","statusMessage":"playwright._impl._errors.Error: APIRequestContext.get: connect ECONNREFUSED ::1:8887\nCall log:\n  - → GET http://localhost:8887/api/v1/employees\n    - user-agent: Playwright/1.56.1 (x64; ubuntu 24.04) python/3.11 CI/1\n    - accept: */*\n    - accept-encoding: gzip,deflate,br","statusTrace":"self = <test_get_employees.TestGetAPI object at 0x7fc3ca3df350>\napi_request_context = <playwright._impl._fetch.APIRequestContext object at 0x7fc3c8e56d90>\n\n    @allure.story(\"Get All Employees\")\n    @allure.title(\"Test GET /api/v1/employees endpoint\")\n    @allure.description(\"This test verifies that the API returns a list of all employees successfully.\")\n    def test_get_employees(self, api_request_context: APIRequestContext):\n        \"\"\"\n        Tests the GET /api/v1/employees endpoint to retrieve all employees.\n        \"\"\"\n        with allure.step(f\"Send GET request to {EMPLOYEES_ENDPOINT}\"):\n>           response = api_request_context.get(f\"{API_BASE_URL}{EMPLOYEES_ENDPOINT}\")\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/api/test_get_employees.py:18: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/sync_api/_generated.py:18476: in get\n    self._sync(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_fetch.py:193: in get\n    return await self.fetch(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_fetch.py:319: in fetch\n    return await self._inner_fetch(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_fetch.py:410: in _inner_fetch\n    response = await self._channel.send(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7fc3c8fe9910>\ncb = <function Channel.send.<locals>.<lambda> at 0x7fc3c8e207c0>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.Error: APIRequestContext.get: connect ECONNREFUSED ::1:8887\nE           Call log:\nE             - → GET http://localhost:8887/api/v1/employees\nE               - user-agent: Playwright/1.56.1 (x64; ubuntu 24.04) python/3.11 CI/1\nE               - accept: */*\nE               - accept-encoding: gzip,deflate,br\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_connection.py:559: Error","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":13,"retriesStatusChange":true,"beforeStages":[{"name":"base_url","time":{"start":1764879370956,"stop":1764879370956,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1764879370956,"stop":1764879370956,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1764879370957,"stop":1764879370957,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1764879370957,"stop":1764879371227,"duration":270},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1764879370957,"stop":1764879370957,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_request_context","time":{"start":1764879371228,"stop":1764879371235,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"This test verifies that the API returns a list of all employees successfully.","status":"broken","statusMessage":"playwright._impl._errors.Error: APIRequestContext.get: connect ECONNREFUSED ::1:8887\nCall log:\n  - → GET http://localhost:8887/api/v1/employees\n    - user-agent: Playwright/1.56.1 (x64; ubuntu 24.04) python/3.11 CI/1\n    - accept: */*\n    - accept-encoding: gzip,deflate,br","statusTrace":"self = <test_get_employees.TestGetAPI object at 0x7fc3ca3df350>\napi_request_context = <playwright._impl._fetch.APIRequestContext object at 0x7fc3c8e56d90>\n\n    @allure.story(\"Get All Employees\")\n    @allure.title(\"Test GET /api/v1/employees endpoint\")\n    @allure.description(\"This test verifies that the API returns a list of all employees successfully.\")\n    def test_get_employees(self, api_request_context: APIRequestContext):\n        \"\"\"\n        Tests the GET /api/v1/employees endpoint to retrieve all employees.\n        \"\"\"\n        with allure.step(f\"Send GET request to {EMPLOYEES_ENDPOINT}\"):\n>           response = api_request_context.get(f\"{API_BASE_URL}{EMPLOYEES_ENDPOINT}\")\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\ntests/api/test_get_employees.py:18: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/sync_api/_generated.py:18476: in get\n    self._sync(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_fetch.py:193: in get\n    return await self.fetch(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_fetch.py:319: in fetch\n    return await self._inner_fetch(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_fetch.py:410: in _inner_fetch\n    response = await self._channel.send(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_connection.py:69: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x7fc3c8fe9910>\ncb = <function Channel.send.<locals>.<lambda> at 0x7fc3c8e207c0>\nis_internal = False, title = None\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False, title: str = None\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(\n            task, \"__pw_stack__\", None\n        ) or inspect.stack(0)\n    \n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal, title)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.Error: APIRequestContext.get: connect ECONNREFUSED ::1:8887\nE           Call log:\nE             - → GET http://localhost:8887/api/v1/employees\nE               - user-agent: Playwright/1.56.1 (x64; ubuntu 24.04) python/3.11 CI/1\nE               - accept: */*\nE               - accept-encoding: gzip,deflate,br\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_connection.py:559: Error","steps":[{"name":"Send GET request to /api/v1/employees","time":{"start":1764879371236,"stop":1764879371550,"duration":314},"status":"broken","statusMessage":"playwright._impl._errors.Error: APIRequestContext.get: connect ECONNREFUSED ::1:8887\nCall log:\n  - → GET http://localhost:8887/api/v1/employees\n    - user-agent: Playwright/1.56.1 (x64; ubuntu 24.04) python/3.11 CI/1\n    - accept: */*\n    - accept-encoding: gzip,deflate,br\n\n","statusTrace":"  File \"/home/runner/work/qa_practice_ecommerce/qa_practice_ecommerce/tests/api/test_get_employees.py\", line 18, in test_get_employees\n    response = api_request_context.get(f\"{API_BASE_URL}{EMPLOYEES_ENDPOINT}\")\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/sync_api/_generated.py\", line 18476, in get\n    self._sync(\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_fetch.py\", line 193, in get\n    return await self.fetch(\n           ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_fetch.py\", line 319, in fetch\n    return await self._inner_fetch(\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_fetch.py\", line 410, in _inner_fetch\n    response = await self._channel.send(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_connection.py\", line 69, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/playwright/_impl/_connection.py\", line 559, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"api_request_context::0","time":{"start":1764879372579,"stop":1764879372581,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1764879372581,"stop":1764879372588,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"story","value":"Get All Employees"},{"name":"feature","value":"API: Employees"},{"name":"parentSuite","value":"tests.api"},{"name":"suite","value":"test_get_employees"},{"name":"subSuite","value":"TestGetAPI"},{"name":"host","value":"runnervmoqczp"},{"name":"thread","value":"5426-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api.test_get_employees"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"8c0808eb2f63afad","status":"passed","time":{"start":1764847566514,"stop":1764847566556,"duration":42}},{"uid":"edd4aca0a2aa35aa","status":"passed","time":{"start":1764847526527,"stop":1764847526572,"duration":45}},{"uid":"9766d4e0ac177596","status":"passed","time":{"start":1764845287110,"stop":1764845287154,"duration":44}},{"uid":"4c8674f2f67d5231","status":"passed","time":{"start":1764845234063,"stop":1764845234105,"duration":42}},{"uid":"dacf5ae85920139b","status":"passed","time":{"start":1764845219044,"stop":1764845219087,"duration":43}},{"uid":"95879707e63464a8","status":"passed","time":{"start":1764844582729,"stop":1764844582774,"duration":45}},{"uid":"f6fe3b4da424218f","status":"passed","time":{"start":1764844145335,"stop":1764844145379,"duration":44}},{"uid":"d20e9527b141c515","status":"passed","time":{"start":1764844130233,"stop":1764844130277,"duration":44}},{"uid":"c3e227271a6a3044","status":"passed","time":{"start":1764843243805,"stop":1764843243849,"duration":44}},{"uid":"5f69dd622ed4494a","status":"failed","statusDetails":"AssertionError: Content-Type header should be application/json\nassert 'application/...charset=UTF-8' == ' application...charset=UTF-8'\n  \n  \u001B[0m\u001B[91m-  application/json;charset=UTF-8\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  ? -\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ application/json;charset=UTF-8\u001B[39;49;00m\u001B[90m\u001B[39;49;00m","time":{"start":1764843102498,"stop":1764843102537,"duration":39}},{"uid":"378cc1aed9524aac","status":"failed","statusDetails":"AssertionError: Content-Type header should be application/json\nassert 'application/...charset=UTF-8' == ' application...charset=UTF-8'\n  \n  \u001B[0m\u001B[91m-  application/json;charset=UTF-8\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  ? -\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ application/json;charset=UTF-8\u001B[39;49;00m\u001B[90m\u001B[39;49;00m","time":{"start":1764843033203,"stop":1764843033240,"duration":37}},{"uid":"cd73fc6bff482cf","status":"failed","statusDetails":"AssertionError: Content-Type header should be application/json\nassert 'application/...charset=UTF-8' == 'application/json'\n  \n  \u001B[0m\u001B[91m- application/json\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ application/json;charset=UTF-8\u001B[39;49;00m\u001B[90m\u001B[39;49;00m","time":{"start":1764842992442,"stop":1764842992478,"duration":36}},{"uid":"c315f6588994b2a7","status":"failed","statusDetails":"AssertionError: Content-Type header should be application/json\nassert 'application/...charset=UTF-8' == 'application/json'\n  \n  \u001B[0m\u001B[91m- application/json\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ application/json;charset=UTF-8\u001B[39;49;00m\u001B[90m\u001B[39;49;00m","time":{"start":1764842965340,"stop":1764842965384,"duration":44}}],"categories":[{"name":"Test defects","matchedStatuses":[]}],"history":{"statistic":{"failed":0,"broken":2,"skipped":0,"passed":0,"unknown":0,"total":2},"items":[{"uid":"a6dc500687c9e4bd","status":"broken","statusDetails":"playwright._impl._errors.Error: APIRequestContext.get: connect ECONNREFUSED ::1:8887\nCall log:\n  - → GET http://localhost:8887/api/v1/employees\n    - user-agent: Playwright/1.56.1 (x64; ubuntu 24.04) python/3.11 CI/1\n    - accept: */*\n    - accept-encoding: gzip,deflate,br","time":{"start":1764849173273,"stop":1764849173587,"duration":314}}]},"tags":[]},"source":"3bfbf3329a5eee05.json","parameterValues":[]}