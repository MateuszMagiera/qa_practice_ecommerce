{"uid":"256401fa3d4a2b24","name":"Test GET /api/v1/employees endpoint","fullName":"tests.api.test_get_employees.TestGetAPI#test_get_employees","historyId":"06265c2bf1f57dce2a4c398ecaa20413","time":{"start":1764842965340,"stop":1764842965384,"duration":44},"description":"This test verifies that the API returns a list of all employees successfully.","descriptionHtml":"<p>This test verifies that the API returns a list of all employees successfully.</p>\n","status":"failed","statusMessage":"AssertionError: Content-Type header should be application/json\nassert 'application/...charset=UTF-8' == 'application/json'\n  \n  \u001B[0m\u001B[91m- application/json\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ application/json;charset=UTF-8\u001B[39;49;00m\u001B[90m\u001B[39;49;00m","statusTrace":"self = <test_get_employees.TestGetAPI object at 0x000002185A966C00>, api_request_context = <playwright._impl._fetch.APIRequestContext object at 0x000002185CF11670>\n\n    @allure.story(\"Get All Employees\")\n    @allure.title(\"Test GET /api/v1/employees endpoint\")\n    @allure.description(\"This test verifies that the API returns a list of all employees successfully.\")\n    def test_get_employees(self, api_request_context: APIRequestContext):\n        \"\"\"\n        Tests the GET /api/v1/employees endpoint to retrieve all employees.\n        \"\"\"\n        with allure.step(f\"Send GET request to {EMPLOYEES_ENDPOINT}\"):\n            response = api_request_context.get(f\"{API_BASE_URL}{EMPLOYEES_ENDPOINT}\")\n    \n        with allure.step(\"Verify the response\"):\n            expect(response).to_be_ok()\n>           assert response.headers['content-type'] == 'application/json', \"Content-Type header should be application/json\"\nE           AssertionError: Content-Type header should be application/json\nE           assert 'application/...charset=UTF-8' == 'application/json'\nE             \nE             \u001B[0m\u001B[91m- application/json\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE             \u001B[92m+ application/json;charset=UTF-8\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n\ntests\\api\\test_get_employees.py:22: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"base_url","time":{"start":1764842964690,"stop":1764842964690,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1764842964690,"stop":1764842964690,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1764842964690,"stop":1764842964690,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1764842964690,"stop":1764842964690,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1764842964690,"stop":1764842965321,"duration":631},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_request_context","time":{"start":1764842965321,"stop":1764842965339,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"This test verifies that the API returns a list of all employees successfully.","status":"failed","statusMessage":"AssertionError: Content-Type header should be application/json\nassert 'application/...charset=UTF-8' == 'application/json'\n  \n  \u001B[0m\u001B[91m- application/json\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ application/json;charset=UTF-8\u001B[39;49;00m\u001B[90m\u001B[39;49;00m","statusTrace":"self = <test_get_employees.TestGetAPI object at 0x000002185A966C00>, api_request_context = <playwright._impl._fetch.APIRequestContext object at 0x000002185CF11670>\n\n    @allure.story(\"Get All Employees\")\n    @allure.title(\"Test GET /api/v1/employees endpoint\")\n    @allure.description(\"This test verifies that the API returns a list of all employees successfully.\")\n    def test_get_employees(self, api_request_context: APIRequestContext):\n        \"\"\"\n        Tests the GET /api/v1/employees endpoint to retrieve all employees.\n        \"\"\"\n        with allure.step(f\"Send GET request to {EMPLOYEES_ENDPOINT}\"):\n            response = api_request_context.get(f\"{API_BASE_URL}{EMPLOYEES_ENDPOINT}\")\n    \n        with allure.step(\"Verify the response\"):\n            expect(response).to_be_ok()\n>           assert response.headers['content-type'] == 'application/json', \"Content-Type header should be application/json\"\nE           AssertionError: Content-Type header should be application/json\nE           assert 'application/...charset=UTF-8' == 'application/json'\nE             \nE             \u001B[0m\u001B[91m- application/json\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\nE             \u001B[92m+ application/json;charset=UTF-8\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n\ntests\\api\\test_get_employees.py:22: AssertionError","steps":[{"name":"Send GET request to /api/v1/employees","time":{"start":1764842965340,"stop":1764842965379,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Verify the response","time":{"start":1764842965379,"stop":1764842965384,"duration":5},"status":"failed","statusMessage":"AssertionError: Content-Type header should be application/json\nassert 'application/...charset=UTF-8' == 'application/json'\n  \n  \u001B[0m\u001B[91m- application/json\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n  \u001B[92m+ application/json;charset=UTF-8\u001B[39;49;00m\u001B[90m\u001B[39;49;00m\n","statusTrace":"  File \"C:\\Users\\pc\\PycharmProjects\\qa_practice_ecommerce\\tests\\api\\test_get_employees.py\", line 22, in test_get_employees\n    assert response.headers['content-type'] == 'application/json', \"Content-Type header should be application/json\"\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"api_request_context::0","time":{"start":1764842965550,"stop":1764842965568,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1764842965569,"stop":1764842965583,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"story","value":"Get All Employees"},{"name":"feature","value":"API: Employees"},{"name":"parentSuite","value":"tests.api"},{"name":"suite","value":"test_get_employees"},{"name":"subSuite","value":"TestGetAPI"},{"name":"host","value":"DESKTOP-6L2NUOA"},{"name":"thread","value":"33436-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api.test_get_employees"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"256401fa3d4a2b24.json","parameterValues":[]}